#
# Copyright (c) Siemens AG, 2023
#
# Authors:
#  Tobias Schaffner <tobias.schaffner@siemens.com>
#
# SPDX-License-Identifier: MIT

header:
  version: 10

build_system: isar

repos:
  isar-osadl-rt-testing-images:

  isar:
    url: https://github.com/ilbers/isar.git
    commit: 9792d18e9334b3cec72e2ade6a1065084c0c24d6
    layers:
      meta:
      meta-isar:
    patches:
      0001-starfive-visionfive2-Allow-kernel-commandline-tuning.patch:
        path: isar-patches/0001-starfive-visionfive2-Allow-kernel-commandline-tuning.patch
        repo: isar-osadl-rt-testing-images
  xenomai-images:
    url: https://gitlab.com/Xenomai/xenomai-images.git
    commit: 392ab5561833b35bf2336acb5f9f8e854034813c

local_conf_header:
  cross: |
    ISAR_CROSS_COMPILE = "1"
  ccache: |
    USE_CCACHE = "1"
  tuning: |
    IMAGE_KERNEL_CMDLINE_TUNE = "isolcpus=2-3 rcu_nocbs=2-3 nohz_full=2-3 irqaffinity=0-1 tsc=nowatchdog nosoftlockup"
  users: |
    USERS += "root"
    # Development password: root
    USER_root[password] = "$6$vES27yqp$YVWiGwpxfKPGEiFTVDV4MR1X3.3IxZer5P/Hus/8XT1u/P.tJ8h63W5JxrqOf0tBMMyF55Po2Cf3VtnTiCi/S1"
    USER_root[shell] = "/bin/bash"
